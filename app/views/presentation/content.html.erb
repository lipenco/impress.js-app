<head>
  <title>ImpressJsApp</title>
  <%= stylesheet_link_tag  "application", :media => "all" %>
  <%= javascript_include_tag "application" %>
  <%= csrf_meta_tags %>
  <%= stylesheet_link_tag "impress-theme1.css", :media => "all" %>
  <%= stylesheet_link_tag "/assets/css/normalize.css" %>
  <%= stylesheet_link_tag "/assets/css/toggle-switch.css" %>
  <%= stylesheet_link_tag "/assets/default.css" %>
  <%= javascript_include_tag "/assets/scripts/jquery.min.js" %>
  <%= javascript_include_tag "http://kenshin54.github.io/popline/build/jquery.popline.min.js" %>

    <script type="text/javascript">
    $(function(){
      document.execCommand('defaultParagraphSeparator', false, 'p');
      $(".editor").popline();
      $("body").data("mode", "edit");
      $("input[name='mode']").click(function(){
        if (this.id !== $("body").data("mode")) {
          $(".editor").popline("destroy");
          $(".editor").attr("contenteditable", this.id === "edit");
          $(".editor").popline({mode: this.id});
          $("body").data("mode", this.id);
        }
      });
    });

  </script> 



  <style>
  .slide { z-index: 1;}
  </style>

  <style>

    .connected, .sortable, .exclude, .handles {
      margin: auto;
      padding: 0;
      width: 100%;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }
 
    .connected li, .sortable li, .exclude li, .handles li {
      list-style: none;
      border: 1px solid #CCC;
      background: #F6F6F6;
      margin: 5px;
      padding: 5px;
      height: 50px;
    }
    li.highlight {
      background: #FEE25F;
    }

  </style>

</head>


<body>
  <div class="container-fluid">
    <div class="row">
      <div class="span2">
        <ul class="sortable list">
          <% @num_slides.times do |n| %>  
            <li id="slide<%= n +1 %>">Slide <%= n +1 %></li>
          <% end %>
         </ul>
      </div>
      <div class="span10">
      <% @num_slides.times do |n| %>  
        <div class="step slide" >
          <div  class="editor editorr" contenteditable="true">
        <% if n < 9 %>
           <%=
            if @content.nil? || @content[n.to_s].nil?
              render "presentation/partials/#{@example_slides[n]}"
            else
                @content[n.to_s].html_safe
            end
          %>
        <% else %>
          <h2> Slide <%= n +1 %> </h2>
        <% end %>
          </div>
         
        </div>
     
         <div class="new-slide" id="addNextSlide"><i class="icon-plus icon-22"></i></div>
         <div class="delete-slide"><i class="icon-minus icon-22"></i></div>
         <% end %>    
     
    </div>
   </div>
  </div>
 
 <%= javascript_include_tag "/assets/sortable.js" %>
<script>
$(document).ready(function () {
      $('.sortable').sortable();
});
  
  storeContentFromContentMode();
  
</script>

</body>



 
