<head>
  <title>ImpressJsApp</title>
  <%= stylesheet_link_tag  "application", :media => "all" %>
  <%= javascript_include_tag "application" %>
  <%= csrf_meta_tags %>
  <%= stylesheet_link_tag "impress-theme1.css", :media => "all" %>
  <%= stylesheet_link_tag "/assets/css/normalize.css" %>
  <%= stylesheet_link_tag "/assets/css/toggle-switch.css" %>
  <%= stylesheet_link_tag "/assets/default.css" %>
  <%= javascript_include_tag "/assets/scripts/jquery.min.js" %>
  <%= javascript_include_tag "http://kenshin54.github.io/popline/build/jquery.popline.min.js" %>

 


    <script type="text/javascript">
    $(function(){
      document.execCommand('defaultParagraphSeparator', false, 'p');
      $(".editor").popline();
      $("body").data("mode", "edit");
      $("input[name='mode']").click(function(){
        if (this.id !== $("body").data("mode")) {
          $(".editor").popline("destroy");
          $(".editor").attr("contenteditable", this.id === "edit");
          $(".editor").popline({mode: this.id});
          $("body").data("mode", this.id);
        }
      });
    });

  </script> 
  <style>
  .slide { z-index: 1;  }

  </style>
</head>

<body>

  <div class="container-fluid" id="sortable">
      <% @num_slides.times do |n| %>  
        <div class="step slide" >
          <div  class="editor editorr" contenteditable="true">
        <% if n < 9 %>
           <%=
            if @content.nil? || @content[n.to_s].nil?
              render "presentation/partials/#{@example_slides[n]}"
            else
                @content[n.to_s].html_safe
            end
          %>
        <% else %>
          <h2> Slide <%= n +1 %> </h2>
        <% end %>
          </div>
         <div class="new-slide" id="addNextSlide"><i class="icon-plus icon-22"></i></div>
         <div class="delete-slide"><i class="icon-minus icon-22"></i></div>
        </div>
     
         
         <% end %>    
     
    </div>


 <%= javascript_include_tag "http://code.jquery.com/ui/1.10.3/jquery-ui.js" %>
<script>
   $(function() {
     parent.$('#sort-slides').click(function(){
      $("#sortable").hasClass("ui-sortable")? $("#sortable").sortable("disable") : 
      $("#sortable").sortable();
         });
    });

  storeContentFromContentMode();
 </script>


</body>



 
