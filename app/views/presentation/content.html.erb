<head>
  <title>ImpressJsApp</title>
  <%= stylesheet_link_tag  "application", :media => "all" %>
  <%= javascript_include_tag "application" %>
  <%= csrf_meta_tags %>
  <%= stylesheet_link_tag "impress-theme1.css", :media => "all" %>
  <%= stylesheet_link_tag "/assets/css/normalize.css" %>
  <%= stylesheet_link_tag "/assets/css/toggle-switch.css" %>
  <%= stylesheet_link_tag "/assets/default.css" %>
  <%= javascript_include_tag "/assets/scripts/jquery.min.js" %>
  <%= javascript_include_tag "http://kenshin54.github.io/popline/build/jquery.popline.min.js" %>
  <%= javascript_include_tag "/assets/scripts/colors.js" %>
  <%= javascript_include_tag "/assets/scripts/img.js" %>

 


    <script type="text/javascript">

    $(function(){
      document.execCommand('defaultParagraphSeparator', false, 'p');
      $(".editor").popline();
      $("body").data("mode", "edit");
      $("input[name='mode']").click(function(){
        if (this.id !== $("body").data("mode")) {
          $(".editor").popline("destroy");
          $(".editor").attr("contenteditable", this.id === "edit");
          $(".editor").popline({mode: this.id});
          $("body").data("mode", this.id);
        }
      });
    });

  </script> 
  <style>
  .slide { z-index: 1;  }

  </style>
</head>

<body>
<nav>
  <ul class="slides-representation">
   <% @num_slides.times do |n| %>  
      <li class="slide-rep" data-loc="slide<%=n+1%>"><%=n+1%></li>
   <% end %>
  </ul>
</nav>

  <div class="container-fluid" id="sortable">
      <% @num_slides.times do |n| %>  
        <div class="step slide">
          <div  class="editor " contenteditable="true" >
        <% if n < 9 %>
           <%=
            if @content.nil? || @content[n.to_s].nil?
              render "presentation/partials/#{@example_slides[n]}"
            else
                @content[n.to_s].html_safe
            end
          %>
        <% else %>
          <h2> Slide <%= n +1 %> </h2>
        <% end %>
          </div>
         <div class="sort-slides"><i class="icon-sort icon-22"></i></div>
         <div class="draggable_on"><i class="icon-move icon-222"></i></div>
         <div class="copy-slide"><i class="icon-copy icon-22"></i></div>
         <div class="new-slide"><i class="icon-plus icon-22"></i></div>
         <div class="delete-slide"><i class="icon-minus icon-22"></i></div>
        </div>
     
         
         <% end %>    
     
    </div>


 <%= javascript_include_tag "http://code.jquery.com/ui/1.10.3/jquery-ui.js" %>
<script> 
   



  $(document).on('touchstart click', 'nav ul li', function(){
    var steps = document.querySelectorAll(".step");
    for (var i = 0; i < (steps.length); i++) {
      steps[i].id = "slide"+(i+1);
    }
    var currTarget = $(this).attr('data-loc');
    $('html, body').stop().animate({
      scrollTop: $($('#' + currTarget)).offset().top
    }, 500);
  });

  storeContentFromContentMode();
  draggableAndSortable();
  parent.$("#style-mode").on("click", storeData);


 </script>


</body>



 
