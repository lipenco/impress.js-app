<head>
  <title>ImpressTitle</title>
  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro|Droid+Sans|Lato:400,900' rel='stylesheet' type='text/css'>
  <% if @substeps == "true" %>
    <%= stylesheet_link_tag "substeps.css", :media => "all" %>
  <% end %>
  <% if @theme == "textured" %>
      <%= stylesheet_link_tag "impress-theme2.css", :media => "all" %>
  <% elsif @theme == "basic" %>
     <%= stylesheet_link_tag "impress-theme1.css", :media => "all" %>
  <% end %>
  <% if @progress_bar == "pbar1" %>
     <%= stylesheet_link_tag "progressbar.css", :media => "all" %>

  <% end %>


</head>

<body class="impress-supported">

  <div id="impress">
    <% @num_slides.times do |n| %>   
      <div class="step <%= @shape_class %> " id="<%=n%>-slide">
        <% if n < 8 %>
          <%=
            if @content.nil? || @content[n.to_s].nil?
              render "presentation/partials/#{@example_slides[n]}"
            else
                @content[n.to_s].html_safe
            end
          %>
        <% else %>
          <h2> Slide <%= n +1 %> </h2>
        <% end %>
      </div>
    <% end %>
  </div>



  <% if @progress_bar == "pbar1" %>
     <div class="progressbar"><div></div></div>
      <div class="progress"></div>
  <% end %>

  <% if @substeps == "true" %>
   <%= javascript_include_tag "substeps.js" %>
   <%= javascript_include_tag "navigation-substeps.js" %>
  <% elsif @substeps == "false" %>
   <%= javascript_include_tag "navigation" %>
  <% end %>

  <% if @progress_bar == "pbar1" %>
    <%= javascript_include_tag "progressbar.js" %>
  <% end %>

  <% if @automated == "true" && @substeps == "true" %>
   <%= javascript_include_tag "automated-substeps.js" %>
   <script> automatedPresentationWithSubsteps(); </script>
  <% elsif @automated == "true" && @substeps == "false" %>
   <%= javascript_include_tag "automated.js" %>
   <script> automatedPresentation(); </script>
  <% end %>



  <%= javascript_include_tag "impress" %>
  <%= javascript_include_tag "impress-layouts" %>

  <script>
     <% case params[:layout] 
        when "vertical" %>
         layoutVertical();
     <% when "linear" %>
         layoutLinear();
     <% when "circlev1" %>
         layoutCircleV1();
     <% when "circlev2" %>
         layoutCircleV2();
     <% when "circlev3" %>
         layoutCircleV3();
     <% when "circlev4" %>
         layoutCircleV4();
     <% when "deep" %>
         layoutDeep();
     <% when "chain" %>
         layoutChain();
     <% when "lineargrid" %>
         layoutLinearGrid();
     <% when "snakegrid" %>
         layoutSnakeGrid();
     <% when "verticalgrid" %>
        layoutVerticalGrid();
     <% end %>

    <% if @progress_bar == "pbar1" %>
         progressBar();
    <% end %>
        impress().init();
  </script>

  <script> var api = impress();</script>
   

</body>
